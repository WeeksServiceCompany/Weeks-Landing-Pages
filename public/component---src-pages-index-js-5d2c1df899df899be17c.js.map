{"version":3,"sources":["webpack:///./src/pages/index.js"],"names":["query","today","Date","getDay","printCoupon","window","print","city","hash","vars","hashes","location","href","slice","indexOf","split","i","length","push","getUrlVars","ourServices","undefined","$","attr","IndexPage","data","sanityCompanyInfo","companyname","sanityPages","pagetitle","style","height","backgroundPosition","fluid","headerimage","asset","className","backgroundColor","primarycolor","hex","opacity","borderColor","accentcolor","color","coupon","title","type","onClick","blocks","_rawFirstcopy","serviceimage","_rawServices","_rawSecondcopy"],"mappings":"iRAYaA,EAAK,aA8CZC,EADO,CAAC,SAAU,SAAU,UAAW,YAAa,WAAY,SAAU,aADpE,IAAIC,MAEOC,UAGvB,SAASC,IACc,oBAAXC,QACRA,OAAOC,QAkBX,IAAIC,EAbJ,WACE,IAAeC,EAAXC,EAAO,GACX,GAAqB,oBAAXJ,OAEN,IADA,IAAIK,EAASL,OAAOM,SAASC,KAAKC,MAAMR,OAAOM,SAASC,KAAKE,QAAQ,KAAO,GAAGC,MAAM,KAC7EC,EAAI,EAAGA,EAAIN,EAAOO,OAAQD,IAE9BR,EAAOE,EAAOM,GAAGD,MAAM,KACvBN,EAAKS,KAAKV,EAAK,IACfC,EAAKD,EAAK,IAAMA,EAAK,GAG7B,OAAOC,EAEEU,GAAU,KACfC,EAAc,sBAAwBb,OAI7Bc,IAATd,GACAA,EAAO,GACe,oBAAXF,QACTiB,IAAE,gBAAgBC,KAAK,OAAQ,mBAEjB,KAAThB,GACPA,EAAO,GACe,oBAAXF,QACTiB,IAAE,gBAAgBC,KAAK,OAAQ,wBAEjBF,IAATd,IACPA,EAAO,OAASA,EACM,oBAAXF,QACPiB,IAAE,gBAAgBC,KAAK,OAAQH,IA2D1BI,UAvDG,SAAC,GAAD,IAAGC,EAAH,EAAGA,KAAH,OAChB,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,+BAAQA,EAAKC,kBAAkBC,YAA/B,MAA+CF,EAAKG,YAAYC,YAElE,kBAAC,IAAD,MACA,kBAAC,IAAD,CACEC,MAAO,CACLC,OAAQ,OACRC,mBAAoB,UAEtBC,MAAOR,EAAKG,YAAYM,YAAYC,MAAMF,OAE1C,yBAAKG,UAAU,cACb,yBAAKA,UAAU,aACb,yBAAKA,UAAU,qBAAqBN,MAAO,CACvCO,gBAAiBZ,EAAKC,kBAAkBY,aAAaC,IACrDC,QAAS,SAEb,wBAAIV,MAAO,CAAEW,YAAahB,EAAKC,kBAAkBgB,YAAYH,MAAQd,EAAKG,YAAYC,WACtF,wCAAa,uBAAGC,MAAO,CAACa,MAAOlB,EAAKC,kBAAkBgB,YAAYH,MAAOtC,GAAzE,SACA,uBAAGmC,UAAU,UAAUX,EAAKG,YAAYgB,OAAOC,OAC/C,uBAAGT,UAAU,cAAcX,EAAKG,YAAYgB,OAAOE,MACnD,uBAAGV,UAAU,gBAAb,2BACA,0BAAMA,UAAU,cAAcW,QAAS3C,EAAa0B,MAAO,CAAEO,gBAAiBZ,EAAKC,kBAAkBgB,YAAYH,MAAO,kBAAC,IAAD,MAAxH,IAAoI,0BAAMH,UAAU,oBAAhB,mBAI1I,yBAAKA,UAAU,kCACb,yBAAKA,UAAU,OACb,kBAAC,IAAD,CAAcY,OAAQvB,EAAKG,YAAYqB,kBAG3C,yBAAKb,UAAU,mBACb,yBAAKA,UAAU,eACb,kBAAC,IAAD,CACAN,MAAO,CAACC,OAAQ,QAChBE,MAAOR,EAAKG,YAAYsB,aAAaf,MAAMF,SAG7C,yBAAKG,UAAU,eAAeN,MAAO,CAAEO,gBAAiBZ,EAAKC,kBAAkBY,aAAaC,MAC1F,0BAAMH,UAAU,sBAAqB,6CACrC,wBAAIN,MAAO,CAAEO,gBAAiBZ,EAAKC,kBAAkBgB,YAAYH,OACjE,kBAAC,IAAD,CAAcS,OAAQvB,EAAKG,YAAYuB,eACvC,uBAAGf,UAAU,cAAcxB,KAAM,CAACQ,eAAcU,MAAO,CAAEO,gBAAiBZ,EAAKC,kBAAkBgB,YAAYH,MAA7G,uBAGJ,yBAAKH,UAAU,yBACb,yBAAKA,UAAU,OACb,kBAAC,IAAD,CAAcY,OAAQvB,EAAKG,YAAYwB","file":"component---src-pages-index-js-5d2c1df899df899be17c.js","sourcesContent":["import React from 'react';\r\nimport { graphql, Link } from 'gatsby';\r\nimport Layout from \"../components/layout\"\r\nimport BlockContent from '../components/block-content'\r\nimport BackgroundImage from 'gatsby-background-image'\r\nimport { FaPrint } from \"react-icons/fa\"\r\nimport Form from \"../components/form\"\r\nimport Helmet from 'react-helmet'\r\nimport PortableText from '@sanity/block-content-to-react'\r\nimport $ from 'jquery'\r\n\r\n\r\nexport const query = graphql`\r\n    query pagesQuery {\r\n        sanityPages(slug: {current: {eq: \"home\"}}) {\r\n            pagetitle\r\n            slug {\r\n                current\r\n            }\r\n            _rawFirstcopy\r\n            _rawServices\r\n            _rawSecondcopy\r\n            coupon {\r\n                title\r\n                type\r\n            }\r\n            headerimage {\r\n                asset {\r\n                    fluid(maxWidth: 1920) {\r\n                        ...GatsbySanityImageFluid\r\n                    }\r\n                }\r\n            }\r\n            serviceimage {\r\n                asset {\r\n                    fluid(maxWidth: 1920) {\r\n                      ...GatsbySanityImageFluid\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        sanityCompanyInfo {\r\n          companyname\r\n          primarycolor{\r\n            hex\r\n        }\r\n        secondarycolor{\r\n            hex\r\n        }\r\n        accentcolor{\r\n            hex\r\n        }\r\n        }\r\n    }\r\n`\r\n/* Get CURRENT DAY */\r\nconst now = new Date();\r\nconst days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\r\nconst today = days[now.getDay()];\r\n\r\n/* PRINT COUPON */\r\nfunction printCoupon() {\r\n  if(typeof window !== 'undefined'){\r\n    window.print();\r\n}\r\n}\r\n\r\n/* GET THE CURRENT URL */\r\nfunction getUrlVars(){\r\n  var vars = [], hash;\r\n  if(typeof window !== 'undefined'){\r\n      var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');\r\n      for(var i = 0; i < hashes.length; i++)\r\n      {\r\n          hash = hashes[i].split('=');\r\n          vars.push(hash[0]);\r\n          vars[hash[0]] = hash[1];\r\n      }\r\n  }\r\n  return vars;\r\n}\r\nvar city = getUrlVars()[\"city\"];\r\nconst ourServices = \"/our-services?city=\" + city;\r\n\r\n\r\n\r\n  if (city === undefined) {\r\n      city = \"\";\r\n      if (typeof window !== 'undefined') {\r\n        $(\".ourServices\").attr('href', \"/our-services/\");\r\n    }\r\n  } else if (city === \"\") {\r\n      city = \"\";\r\n      if (typeof window !== 'undefined') {\r\n        $(\".ourServices\").attr('href', \"/our-services/\");\r\n    }\r\n  } else if (city !== undefined) {\r\n      city = \" in \" + city;\r\n      if (typeof window !== 'undefined') {\r\n          $(\".ourServices\").attr('href', ourServices);\r\n      }\r\n  }\r\n\r\nconst IndexPage = ( {data }) => (\r\n  <Layout>\r\n    <Helmet>\r\n      <title>{data.sanityCompanyInfo.companyname} | {data.sanityPages.pagetitle}</title>\r\n    </Helmet>\r\n    <Form />\r\n    <BackgroundImage\r\n      style={{\r\n        height: \"100%\",\r\n        backgroundPosition: \"center\"\r\n      }}\r\n      fluid={data.sanityPages.headerimage.asset.fluid}>\r\n\r\n      <div className=\"pageHeader\">\r\n        <div className=\"innerLeft\">\r\n          <div className=\"pgHeaderBackground\" style={{\r\n              backgroundColor: data.sanityCompanyInfo.primarycolor.hex,\r\n              opacity: \"0.9\"\r\n          }}></div>\r\n          <h1 style={{ borderColor: data.sanityCompanyInfo.accentcolor.hex }}>{data.sanityPages.pagetitle}</h1>\r\n          <p>Call This <b style={{color: data.sanityCompanyInfo.accentcolor.hex}}>{today}</b> for </p>\r\n          <p className=\"coupon\">{data.sanityPages.coupon.title}</p>\r\n          <p className=\"couponType\">{data.sanityPages.coupon.type}</p>\r\n          <p className=\"restrictions\">*Restrictions may apply</p>\r\n          <span className=\"printCoupon\" onClick={printCoupon} style={{ backgroundColor: data.sanityCompanyInfo.accentcolor.hex }}><FaPrint /> <span className=\"mobileCouponText\">Claim Offer</span></span>\r\n        </div>\r\n      </div>\r\n    </BackgroundImage>\r\n    <div className=\"container pageContent homepage\">\r\n      <div className=\"row\">\r\n        <PortableText blocks={data.sanityPages._rawFirstcopy} />\r\n      </div>\r\n    </div>\r\n    <div className=\"row servicesRow\">\r\n      <div className=\"leftSection\">\r\n        <BackgroundImage \r\n        style={{height: \"100%\"}}\r\n        fluid={data.sanityPages.serviceimage.asset.fluid}>\r\n        </BackgroundImage>\r\n      </div>\r\n      <div className=\"rightSection\" style={{ backgroundColor: data.sanityCompanyInfo.primarycolor.hex }}>\r\n        <span className=\"servicesBlockTitle\"><h2>Our Services</h2></span>\r\n        <hr style={{ backgroundColor: data.sanityCompanyInfo.accentcolor.hex }} />\r\n        <PortableText blocks={data.sanityPages._rawServices} />\r\n        <a className=\"ourServices\" href={{ourServices}} style={{ backgroundColor: data.sanityCompanyInfo.accentcolor.hex }}>View our Services</a>\r\n      </div>\r\n    </div>\r\n    <div className=\"container pageContent\">\r\n      <div className=\"row\">\r\n        <BlockContent blocks={data.sanityPages._rawSecondcopy} />\r\n      </div>\r\n    </div>\r\n  </Layout>\r\n)\r\n \r\nexport default IndexPage\r\n"],"sourceRoot":""}