{"version":3,"sources":["webpack:///./src/templates/reviews.js"],"names":["query","today","Date","getDay","printCoupon","window","print","ourServices","hash","vars","hashes","location","href","slice","indexOf","split","i","length","push","getUrlVars","$","attr","data","sanityCompanyInfo","companyname","sanityPages","pagetitle","style","height","backgroundPosition","fluid","headerimage","asset","className","backgroundColor","primarycolor","hex","opacity","borderColor","accentcolor","color","coupon","title","type","onClick","blocks","_rawFirstcopy","allSanityReviews","edges","map","reviews","node","review","author","serviceimage","_rawServices","_rawSecondcopy"],"mappings":"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","file":"component---src-templates-reviews-js-af2a6db27162d924f8da.js","sourcesContent":["import React from 'react';\r\nimport { graphql } from 'gatsby';\r\nimport Layout from \"../components/layout\"\r\nimport { FaStar } from \"react-icons/fa\"\r\nimport BlockContent from '../components/block-content'\r\nimport BackgroundImage from 'gatsby-background-image'\r\nimport { FaPrint } from \"react-icons/fa\"\r\nimport Form from \"../components/form\"\r\nimport Helmet from 'react-helmet'\r\nimport $ from 'jquery'\r\n\r\n\r\nexport const query = graphql`\r\n    query reviewsQuery {\r\n        sanityPages(slug: {current: {eq: \"reviews\"}}) {\r\n            pagetitle\r\n            slug {\r\n                current\r\n            }\r\n            _rawFirstcopy\r\n            _rawServices\r\n            _rawSecondcopy\r\n            coupon {\r\n                title\r\n                type\r\n            }\r\n            headerimage {\r\n                asset {\r\n                    fluid(maxWidth: 1920) {\r\n                        ...GatsbySanityImageFluid\r\n                    }\r\n                }\r\n            }\r\n            serviceimage {\r\n                asset {\r\n                    fluid(maxWidth: 1920) {\r\n                      ...GatsbySanityImageFluid\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        sanityCompanyInfo {\r\n            companyname\r\n            primarycolor{\r\n                hex\r\n            }\r\n            secondarycolor{\r\n                hex\r\n            }\r\n            accentcolor{\r\n                hex\r\n            }\r\n        }\r\n        allSanityReviews{\r\n            edges{\r\n                node{\r\n                    review\r\n                    author\r\n                }\r\n            }\r\n        }\r\n    }\r\n`\r\n\r\nconst now = new Date();\r\nconst days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\r\nconst today = days[now.getDay()];\r\nfunction printCoupon() {\r\n    if(typeof window !== 'undefined'){\r\n        window.print();\r\n    }\r\n  }\r\n\r\n/* ADD CITY TO OUR SERVICES LINK */\r\nfunction getUrlVars(){\r\n    var vars = [], hash;\r\n    if(typeof window !== 'undefined'){\r\n        var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');\r\n        for(var i = 0; i < hashes.length; i++)\r\n        {\r\n            hash = hashes[i].split('=');\r\n            vars.push(hash[0]);\r\n            vars[hash[0]] = hash[1];\r\n        }\r\n    }\r\n    return vars;\r\n  }\r\nconst city = getUrlVars()[\"city\"];\r\n\r\n  const ourServices = \"/our-services?city=\" + city;\r\n\r\n  if(typeof window !== 'undefined'){\r\n    $(\".ourServices\").attr('href', ourServices);\r\n}\r\n\r\nexport default ({ data }) => (\r\n    <Layout>\r\n        <Helmet>\r\n            <title>{data.sanityCompanyInfo.companyname} | {data.sanityPages.pagetitle}</title>\r\n        </Helmet>\r\n        <Form />\r\n        <BackgroundImage\r\n            style={{\r\n                height: \"100%\",\r\n                backgroundPosition: \"center\"\r\n            }}\r\n            fluid={data.sanityPages.headerimage.asset.fluid}>\r\n\r\n            <div className=\"pageHeader\">\r\n                <div className=\"innerLeft\">\r\n                    <div className=\"pgHeaderBackground\" style={{\r\n                        backgroundColor: data.sanityCompanyInfo.primarycolor.hex,\r\n                        opacity: \"0.9\"\r\n                    }}></div>\r\n                    <h1 style={{ borderColor: data.sanityCompanyInfo.accentcolor.hex }}>{data.sanityPages.pagetitle}</h1>\r\n                    <p>Call This <b style={{color: data.sanityCompanyInfo.accentcolor.hex}}>{today}</b> for </p>\r\n                    <p className=\"coupon\">{data.sanityPages.coupon.title}</p>\r\n                    <p className=\"couponType\">{data.sanityPages.coupon.type}</p>\r\n                    <p className=\"restrictions\">*Restrictions may apply</p>\r\n                    <span className=\"printCoupon\" onClick={printCoupon} style={{ backgroundColor: data.sanityCompanyInfo.accentcolor.hex }}><FaPrint /> <span className=\"mobileCouponText\">Claim Offer</span></span>\r\n                </div>\r\n\r\n            </div>\r\n        </BackgroundImage>\r\n        <div className=\"reviewsPage\">\r\n            <div className=\"container pageContent\">\r\n                <div className=\"row\">\r\n                    <BlockContent blocks={data.sanityPages._rawFirstcopy} />\r\n                </div>\r\n            </div>\r\n            <div className=\"container\">\r\n                <div className=\"row reviewRow\">\r\n                    \r\n                        {data.allSanityReviews.edges.map(({ node: reviews }) => (\r\n                            <div className=\"review\">\r\n                                <FaStar style={{ color: data.sanityCompanyInfo.primarycolor.hex }} /><FaStar style={{ color: data.sanityCompanyInfo.primarycolor.hex }} /><FaStar style={{ color: data.sanityCompanyInfo.primarycolor.hex }} /><FaStar style={{ color: data.sanityCompanyInfo.primarycolor.hex }} /><FaStar style={{ color: data.sanityCompanyInfo.primarycolor.hex }} />\r\n                                <p>{reviews.review}</p>\r\n                                <p className=\"author\"> - {reviews.author}</p>\r\n                            </div>\r\n                        ))}\r\n                    \r\n                </div>\r\n            </div>\r\n            <div className=\"row servicesRow\">\r\n                <div className=\"leftSection\">\r\n                    <BackgroundImage\r\n                        style={{ height: \"100%\" }}\r\n                        fluid={data.sanityPages.serviceimage.asset.fluid}>\r\n                    </BackgroundImage>\r\n                </div>\r\n                <div className=\"rightSection\" style={{ backgroundColor: data.sanityCompanyInfo.primarycolor.hex }}>\r\n                    <h2>Our Services</h2>\r\n                    <hr style={{backgroundColor: data.sanityCompanyInfo.accentcolor.hex }} />\r\n                    <BlockContent blocks={data.sanityPages._rawServices} />\r\n                    <a className=\"ourServices\" href=\"\" style={{ backgroundColor: data.sanityCompanyInfo.accentcolor.hex }}>View our Services</a>\r\n                </div>\r\n            </div>\r\n            <div className=\"container pageContent\">\r\n                <div className=\"row\">\r\n                    <BlockContent blocks={data.sanityPages._rawSecondcopy} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </Layout>\r\n)"],"sourceRoot":""}