{"version":3,"sources":["webpack:///./src/templates/page.js"],"names":["query","today","Date","getDay","printCoupon","window","print","city","hash","vars","hashes","location","href","slice","indexOf","split","i","length","push","getUrlVars","ourServices","undefined","$","attr","data","sanityCompanyInfo","companyname","sanityPages","pagetitle","style","height","backgroundPosition","fluid","headerimage","asset","className","backgroundColor","primarycolor","hex","opacity","coupon","title","type","onClick","accentcolor","blocks","_rawFirstcopy","serviceimage","_rawServices","_rawSecondcopy"],"mappings":"+PAWaA,EAAK,aAiDZC,EADO,CAAC,SAAU,SAAU,UAAW,YAAa,WAAY,SAAU,aADpE,IAAIC,MAEOC,UAEvB,SAASC,IACgB,oBAAXC,QACNA,OAAOC,QAiBb,IAAIC,EAbJ,WACE,IAAeC,EAAXC,EAAO,GACX,GAAqB,oBAAXJ,OAEN,IADA,IAAIK,EAASL,OAAOM,SAASC,KAAKC,MAAMR,OAAOM,SAASC,KAAKE,QAAQ,KAAO,GAAGC,MAAM,KAC7EC,EAAI,EAAGA,EAAIN,EAAOO,OAAQD,IAE9BR,EAAOE,EAAOM,GAAGD,MAAM,KACvBN,EAAKS,KAAKV,EAAK,IACfC,EAAKD,EAAK,IAAMA,EAAK,GAG7B,OAAOC,EAEEU,GAAU,KACjBC,EAAc,sBAAwBb,OAE3Bc,IAATd,GACAA,EAAO,GACe,oBAAXF,QACXiB,IAAE,gBAAgBC,KAAK,OAAQ,mBAEf,KAAThB,GACPA,EAAO,GACe,oBAAXF,QACXiB,IAAE,gBAAgBC,KAAK,OAAQ,wBAEfF,IAATd,IACPA,EAAO,OAASA,EACM,oBAAXF,QACPiB,IAAE,gBAAgBC,KAAK,OAAQH,IAI5B,0BAAGI,EAAH,EAAGA,KAAH,OACX,kBAAC,IAAD,KACI,kBAAC,IAAD,KACI,+BAAQA,EAAKC,kBAAkBC,YAA/B,MAA+CF,EAAKG,YAAYC,YAEpE,kBAAC,IAAD,MACA,kBAAC,IAAD,CACIC,MAAO,CACHC,OAAQ,OACRC,mBAAoB,UAExBC,MAAOR,EAAKG,YAAYM,YAAYC,MAAMF,OAE1C,yBAAKG,UAAU,cACX,yBAAKA,UAAU,aACf,yBAAKA,UAAU,qBAAqBN,MAAO,CACnCO,gBAAiBZ,EAAKC,kBAAkBY,aAAaC,IACrDC,QAAS,SAEb,4BAAKf,EAAKG,YAAYC,WACtB,wCAAa,2BAAI3B,GAAjB,SACA,uBAAGkC,UAAU,UAAUX,EAAKG,YAAYa,OAAOC,OAC/C,uBAAGN,UAAU,cAAcX,EAAKG,YAAYa,OAAOE,MACnD,uBAAGP,UAAU,gBAAb,2BACA,0BAAMA,UAAU,cAAcQ,QAASvC,EAAayB,MAAO,CAAEO,gBAAiBZ,EAAKC,kBAAkBmB,YAAYN,MAAO,kBAAC,IAAD,MAAxH,IAAoI,0BAAMH,UAAU,oBAAhB,mBAKhJ,yBAAKA,UAAU,kCACX,yBAAKA,UAAU,OACX,kBAAC,IAAD,CAAcU,OAAQrB,EAAKG,YAAYmB,kBAG/C,yBAAKX,UAAU,mBACP,yBAAKA,UAAU,eACf,kBAAC,IAAD,CACIN,MAAO,CAAEC,OAAQ,QACjBE,MAAOR,EAAKG,YAAYoB,aAAab,MAAMF,SAGnD,yBAAKG,UAAU,eAAeN,MAAO,CAAEO,gBAAiBZ,EAAKC,kBAAkBY,aAAaC,MACxF,0BAAMH,UAAU,sBAAqB,6CADzC,eAGI,kBAAC,IAAD,CAAcU,OAAQrB,EAAKG,YAAYqB,eACvC,uBAAGb,UAAU,cAAcvB,KAAM,CAACQ,eAAcS,MAAO,CAAEO,gBAAiBZ,EAAKC,kBAAkBmB,YAAYN,MAA7G,uBAGR,yBAAKH,UAAU,yBACX,yBAAKA,UAAU,OACX,kBAAC,IAAD,CAAcU,OAAQrB,EAAKG,YAAYsB","file":"component---src-templates-page-js-078426fbcb28c01acb11.js","sourcesContent":["import React from 'react';\r\nimport { graphql, Link } from 'gatsby';\r\nimport Layout from \"../components/layout\"\r\nimport BlockContent from '../components/block-content'\r\nimport BackgroundImage from 'gatsby-background-image'\r\nimport { FaPrint } from \"react-icons/fa\"\r\nimport Form from \"../components/form\"\r\nimport Helmet from 'react-helmet'\r\nimport $ from 'jquery'\r\n\r\n\r\nexport const query = graphql`\r\n    query pageQuery($slug: String) {\r\n        sanityPages(slug: {current: {eq: $slug}}) {\r\n            pagetitle\r\n            pagetype{\r\n                pagetype\r\n            }\r\n            slug {\r\n                current\r\n            }\r\n            _rawFirstcopy\r\n            _rawServices\r\n            _rawSecondcopy\r\n            coupon {\r\n                title\r\n                type\r\n            }\r\n            headerimage {\r\n                asset {\r\n                    fluid(maxWidth: 1920) {\r\n                        ...GatsbySanityImageFluid\r\n                    }\r\n                }\r\n            }\r\n            serviceimage {\r\n                asset {\r\n                    fluid(maxWidth: 1920) {\r\n                      ...GatsbySanityImageFluid\r\n                    }\r\n                }\r\n            }\r\n    }\r\n        sanityCompanyInfo {\r\n            primarycolor{\r\n                hex\r\n            }\r\n            secondarycolor{\r\n                hex\r\n            }\r\n            accentcolor{\r\n                hex\r\n            }\r\n        }\r\n    }\r\n`\r\n\r\n\r\nconst now = new Date();\r\nconst days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\r\nconst today = days[now.getDay()];\r\n\r\nfunction printCoupon() {\r\n    if(typeof window !== 'undefined'){\r\n        window.print();\r\n    }\r\n  }\r\n\r\n  function getUrlVars(){\r\n    var vars = [], hash;\r\n    if(typeof window !== 'undefined'){\r\n        var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');\r\n        for(var i = 0; i < hashes.length; i++)\r\n        {\r\n            hash = hashes[i].split('=');\r\n            vars.push(hash[0]);\r\n            vars[hash[0]] = hash[1];\r\n        }\r\n    }\r\n    return vars;\r\n  }\r\n  var city = getUrlVars()[\"city\"];\r\n  var ourServices = \"/our-services?city=\" + city;\r\n\r\n    if (city === undefined) {\r\n        city = \"\";\r\n        if (typeof window !== 'undefined') {\r\n        $(\".ourServices\").attr('href', \"/our-services/\");\r\n    }\r\n    } else if (city === \"\") {\r\n        city = \"\";\r\n        if (typeof window !== 'undefined') {\r\n        $(\".ourServices\").attr('href', \"/our-services/\");\r\n    }\r\n    } else if (city !== undefined) {\r\n        city = \" in \" + city;\r\n        if (typeof window !== 'undefined') {\r\n            $(\".ourServices\").attr('href', ourServices);\r\n        }\r\n    }\r\n\r\nexport default ({ data }) => (\r\n    <Layout>\r\n        <Helmet>\r\n            <title>{data.sanityCompanyInfo.companyname} | {data.sanityPages.pagetitle}</title>\r\n        </Helmet>\r\n        <Form />\r\n        <BackgroundImage\r\n            style={{\r\n                height: \"100%\",\r\n                backgroundPosition: \"center\"\r\n            }}\r\n            fluid={data.sanityPages.headerimage.asset.fluid}>\r\n\r\n            <div className=\"pageHeader\">\r\n                <div className=\"innerLeft\">\r\n                <div className=\"pgHeaderBackground\" style={{\r\n                        backgroundColor: data.sanityCompanyInfo.primarycolor.hex,\r\n                        opacity: \"0.9\"\r\n                    }}></div>\r\n                    <h1>{data.sanityPages.pagetitle}</h1>\r\n                    <p>Call This <b>{today}</b> for </p>\r\n                    <p className=\"coupon\">{data.sanityPages.coupon.title}</p> \r\n                    <p className=\"couponType\">{data.sanityPages.coupon.type}</p>\r\n                    <p className=\"restrictions\">*Restrictions may apply</p>\r\n                    <span className=\"printCoupon\" onClick={printCoupon} style={{ backgroundColor: data.sanityCompanyInfo.accentcolor.hex }}><FaPrint /> <span className=\"mobileCouponText\">Claim Offer</span></span>\r\n                </div>\r\n\r\n            </div>\r\n        </BackgroundImage>\r\n        <div className=\"container pageContent thispage\">\r\n            <div className=\"row\">\r\n                <BlockContent blocks={data.sanityPages._rawFirstcopy} />\r\n            </div>\r\n        </div>    \r\n        <div className=\"row servicesRow\">\r\n                <div className=\"leftSection\">\r\n                <BackgroundImage\r\n                    style={{ height: \"100%\" }}\r\n                    fluid={data.sanityPages.serviceimage.asset.fluid}>\r\n                </BackgroundImage>\r\n                </div>\r\n            <div className=\"rightSection\" style={{ backgroundColor: data.sanityCompanyInfo.primarycolor.hex }}>\r\n                <span className=\"servicesBlockTitle\"><h2>Our Services</h2></span>\r\n                This is page\r\n                <BlockContent blocks={data.sanityPages._rawServices} />\r\n                <a className=\"ourServices\" href={{ourServices}} style={{ backgroundColor: data.sanityCompanyInfo.accentcolor.hex }}>View our Services</a>\r\n                </div>\r\n            </div>\r\n        <div className=\"container pageContent\">    \r\n            <div className=\"row\">\r\n                <BlockContent blocks={data.sanityPages._rawSecondcopy} />\r\n            </div>\r\n        </div>\r\n    </Layout>\r\n)"],"sourceRoot":""}